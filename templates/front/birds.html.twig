{% extends 'base.html.twig' %}

{% block title %} Espèces {% endblock %}

{% block body %}
    <div class="valign-wrapper big-header" id="species_header">
        <h1>Espèces</h1>
    </div>
{#{{ include('common/header.html.twig', {'asset' : 'assets/img/bg-blog.jpg', 'alt' : 'header_blog', 'title' : 'Blog'}) }}#}
    {{ include('common/breadcrumb.html.twig', {'breadcrumb' : breadcrumb }) }}
    <div>
        <ul class="collapsible">
            <li>
                <div class="collapsible-header search">Rechercher<i class="material-icons">expand_more</i></div>
                <div class="collapsible-body">
                    {{ form_start(form) }}
                        <div class="row">
                            <div class="col s12 m6" id="bird-autocomplete">
                                <div class="row">
                                    <div class="input-field col s12">
                                        <input type="text" id="autocomplete-input"  @input="search" class="autocomplete" autocomplete="off">
                                        <label for="autocomplete-input">Critère de recherche (Nom - Famille - Ordre)</label>
                                    </div>
                                </div>
                                {{ form_row(form.id) }}
                                {{ form_row(form.nameOrder) }}
                                {{ form_row(form.family) }}
                            </div>
                        </div>
                        <div>
                            {{ form_label(form.sort) }}
                            {{ form_widget(form.sort) }}
                        </div>
                    <button class="btn btn-connexion center-align" type="submit"> Rechercher</button>
                    {{ form_end(form) }}
                </div>
            </li>
        </ul>
    </div>

    <div class="row">
        {% for bird in birds %}
            <div class="col s12 m4 l2">
                <div class="card "><!--card-species-->
                    <div class="materialboxed card-image waves-effect waves-block waves-light"> <!--image-species center-->
                            <img src="
                                {% if bird.image %}
                                    {{ image_birds_directory}}/{{ bird.image }}
                                {% else %}
                                    {{ asset('assets/img/bg_espece_inconnue_gris_2.jpg') }}
                                {% endif %}
                            ">
                    </div>
                    <div class="card-content center"><!--content-species center-->
                        <h6 class="center card-title">{{ bird.vernacularName }}</h6>
                        <p class="center">Animal observé XX fois</p>
                        <a href="{{ path('oiseau', {'id': bird.id}) }}"  class="waves-effect waves-light btn-small btn-species">Voir plus</a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
    <div class="row">
        <div class="center-align">
            {{ include('common/pagination.html.twig', {'paginaion' : pagination}) }}
        </div>
    </div>
{% endblock %}

{% block autocomplete %}
    <script src="{{ asset('build/speciesAutocomplete.js') }}"></script>
{% endblock%}